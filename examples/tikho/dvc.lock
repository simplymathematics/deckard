schema: '2.0'
stages:
  data:
    cmd: python make_data.py
    params:
      params.yaml:
        data:
          add_noise:
            X_train: 0.0
            X_test: 0.0
          classification:
            n_samples: 10000
            n_classes: 2
            n_features: 5
            n_informative: 4
            n_redundant: 1
          files:
            file: data.npz
            ground_truth: ground_truth.csv
            path: data
          plots:
            path: report
            rank: rank
            balance: balance
            radviz: radviz
            correlation: correlation
            filetype: .png
    outs:
    - path: data/data.npz
      md5: b6b346265bd3599661e3858db1095cc8
      size: 673002
    - path: data/ground_truth.csv
      md5: ac38b31623b7c8bd0d347b03da5fa70c
      size: 6000
    - path: report/balance.png
      md5: f7da9280c24f0e8897f0db876f91b4d2
      size: 15478
    - path: report/correlation.png
      md5: 61a3e15c9e5566295c2d0f1df5651102
      size: 15501
    - path: report/radviz.png
      md5: a43d5321e6d666f06d2fcc4c4bff1ba7
      size: 25215
  model:
    cmd: python tikhonov.py
    deps:
    - path: data/data.npz
      md5: b6b346265bd3599661e3858db1095cc8
      size: 673002
    params:
      params.yaml:
        model:
          files:
            model: model.pickle
            data: data/data.npz
            predictions: predictions.csv
            path: model
          metrics:
            scores: scores.csv
          plots:
            path: report
            classification: classification
            confusion: confusion.png
          params:
            name: TikhonovClassifier
            mtype: linear
            epochs: 1000
            learning_rate: 1e-08
            scale: 0
            log_every_n: 10
    outs:
    - path: model/model.pickle
      md5: 4ae64c91a821e2fa2f2871391b2d8a10
      size: 80396
    - path: model/predictions.csv
      md5: f81211eb90cc6df9e060486131a40300
      size: 93380
    - path: model/scores.csv
      md5: 1c817dc363dee556f9dc64c3051a83de
      size: 85
    - path: report/classification.png
      md5: 3d8fd731008ed5ba59de9e861df51074
      size: 24213
    - path: report/confusion.png
      md5: 146668559b09fe0d178a8876af51b751
      size: 17469
    - path: report/report.html
      md5: ee79d7340094a5e1e42ae84ac4d86837
      size: 105486
  cache:
    cmd: python hash.py
    deps:
    - path: data/data.npz
      md5: b6b346265bd3599661e3858db1095cc8
      size: 673002
    - path: data/ground_truth.csv
      md5: ac38b31623b7c8bd0d347b03da5fa70c
      size: 6000
    - path: model/model.pickle
      md5: 4ae64c91a821e2fa2f2871391b2d8a10
      size: 80396
    - path: model/predictions.csv
      md5: f81211eb90cc6df9e060486131a40300
      size: 93380
    - path: report/
      md5: 26d0fed2b9fa5b4a6f15ee3a81397fdb.dir
      size: 223722
      nfiles: 13
    outs:
    - path: experiments/
      md5: 7b0983392974b550e6788c4058953f87.dir
      size: 627542
      nfiles: 22
