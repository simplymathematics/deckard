schema: '2.0'
stages:
  data:
    cmd: python -m deckard.layers.runner --stage data
    deps:
    - path: params.yaml
      md5: 8cc0aa43ca0057bfc7087eaa6e4622b5
      size: 1568
    params:
      params.yaml:
        data:
          generate:
            class_sep: 1
            n_classes: 2
            n_features: 100
            n_redundant: 1
            n_repeated: 0
            n_samples: 101000
          name: classification
          sample:
            random_state: 42
            shuffle: true
            stratify: true
            test_size: 1000
            time_series: true
            train_size: 1000
        files:
          attack_file: attack/6bc16f621427375278e59654f3d997f3.pkl
          attack_predictions_file: attack_predictions.json
          attack_probabilities_file: attack_probabilities.json
          attack_samples_file: samples.json
          attack_score_dict_file: attack_scores.json
          attack_time_dict_file: attack_time_dict.json
          data_file: data/6b9043563b91a2469cbae373787df58a.npz
          ground_truth_file: ground_truth.json
          model_file: models/e3e79e8b49f531ee566f7f31ae211f64.pkl
          params_file: params.yaml
          reports: reports
          path: ea961a9a112eff845c7407e242949664
          predictions_file: predictions.json
          probabilities_file: probabilities.json
          score_dict_file: scores.json
          time_dict_file: time_dict.json
    outs:
    - path: data/6b9043563b91a2469cbae373787df58a.npz
      md5: a6d4c1dfdb1785446e454bfbf1c2508f
      size: 80400393
  model:
    cmd: python -m deckard.layers.runner --stage model
    deps:
    - path: data/6b9043563b91a2469cbae373787df58a.npz
      md5: 4eb87b3a25bb8bc46eecb8969e471d18
      size: 80800397
    - path: params.yaml
      md5: 8cc0aa43ca0057bfc7087eaa6e4622b5
      size: 1568
    params:
      params.yaml:
        data:
          generate:
            class_sep: 1
            n_classes: 2
            n_features: 100
            n_redundant: 1
            n_repeated: 0
            n_samples: 101000
          name: classification
          sample:
            random_state: 42
            shuffle: true
            stratify: true
            test_size: 1000
            time_series: true
            train_size: 1000
        files:
          attack_file: attack/6bc16f621427375278e59654f3d997f3.pkl
          attack_predictions_file: attack_predictions.json
          attack_probabilities_file: attack_probabilities.json
          attack_samples_file: samples.json
          attack_score_dict_file: attack_scores.json
          attack_time_dict_file: attack_time_dict.json
          data_file: data/6b9043563b91a2469cbae373787df58a.npz
          ground_truth_file: ground_truth.json
          model_file: models/e3e79e8b49f531ee566f7f31ae211f64.pkl
          params_file: params.yaml
          reports: reports
          path: ea961a9a112eff845c7407e242949664
          predictions_file: predictions.json
          probabilities_file: probabilities.json
          score_dict_file: scores.json
          time_dict_file: time_dict.json
        model:
          init:
            name: tikhonov.TikhonovClassifier
            mtype: logistic
        scorers:
          accuracy:
            name: sklearn.metrics.accuracy_score
            normalize: true
          f1:
            average: weighted
            name: sklearn.metrics.f1_score
          precision:
            average: weighted
            name: sklearn.metrics.precision_score
          recall:
            average: weighted
            name: sklearn.metrics.recall_score
    outs:
    - path: reports/model/ea961a9a112eff845c7407e242949664/ground_truth.json
      md5: d362ec9b1f60bbe5e50b1d5019127a81
      size: 978891
    - path: reports/model/ea961a9a112eff845c7407e242949664/predictions.json
      md5: e9cc16c77139aeb83f439748125ac673
      size: 2102504
    - path: reports/model/ea961a9a112eff845c7407e242949664/scores.json
      md5: 07842d3c5af1b76034de84d983ba4ff0
      size: 90
  cache:
    cmd: python cache.py
    deps:
    - path: data.pickle
      md5: a1f6fcf0ce3c044c316c1ee86d49578a
      size: 480380
    - path: model.pickle
      md5: 30af24a29daf5a01aa3f2a8a4f46ad14
      size: 53723
    - path: reports/ground_truth.json
      md5: e4c8ee204a26879a8672c7eddcd0387b
      size: 28888
    - path: reports/predictions.json
      md5: 21a312ac7348482494ee64ed53471990
      size: 28894
  parse:
    cmd: python parse.py
    deps:
    - path: conf/config.yaml
      md5: 12f45368f98e241b1b5924ce2766c480
      size: 243
    outs:
    - path: params.yaml
      md5: 83ddfe20f498794a11e3ee8ff69801e0
      size: 802
