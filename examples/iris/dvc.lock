schema: '2.0'
stages:
  prepare:
    cmd: python -m deckard.layers.prepare
    params:
      params.yaml:
        prepare:
          name: iris
          params:
            shuffle: false
            stratify: true
            random_state: 0
            train_size: 1
          data_file: data.pkl
          output_folder: .
    outs:
    - path: data.pkl
      md5: d58c55049821b1583a848353f081e9ff
      size: 4713
  train:
    cmd: python -m deckard.layers.sklearn_model --layer_name train
    deps:
    - path: data.pkl
      md5: d58c55049821b1583a848353f081e9ff
      size: 4713
    params:
      params.yaml:
        train:
          input_folder: .
          input_name: model.pickle
          output_folder: train
          output_name: model.pickle
          data_file: data.pkl
          layer_name: train
          config:
            name: sklearn.ensemble.RandomForestClassifier
            params:
              n_estimators: 100
          classifier: false
          model_type: sklearn
          is_fitted: false
    outs:
    - path: train/
      md5: 80148d5c9f1d0bdee4fb392b342b5a91.dir
      size: 217466
      nfiles: 4
  preprocess:
    cmd: python -m deckard.layers.preprocess  --layer_name preprocess --position 0
    deps:
    - path: train/
      md5: 80148d5c9f1d0bdee4fb392b342b5a91.dir
      size: 217466
      nfiles: 4
    params:
      params.yaml:
        preprocess:
          input_folder: train
          output_folder: preprocess
          input_name: model.pickle
          output_name: model
          data_file: data.pkl
          layer_name: preprocess
          position: 0
          config:
            name: sklearn.preprocessing.StandardScaler
            params:
              with_mean: true
              with_std: true
          classifier: false
          model_type: sklearn
          is_fitted: false
    outs:
    - path: preprocess/
      md5: 8ed848649ff73fce6b6253e05cadb75a.dir
      size: 220225
      nfiles: 4
  featurize:
    cmd: python -m deckard.layers.preprocess --layer_name featurize --position 1
    deps:
    - path: preprocess/
      md5: 8ed848649ff73fce6b6253e05cadb75a.dir
      size: 220225
      nfiles: 4
    params:
      params.yaml:
        featurize:
          input_folder: preprocess
          output_folder: featurize
          input_name: model
          output_name: model.pickle
          data_file: data.pkl
          layer_name: featurize
          position: 1
          config:
            name: sklearn.impute.SimpleImputer
            params:
              strategy: mean
          classifier: false
          model_type: sklearn
          is_fitted: false
    outs:
    - path: featurize/
      md5: 90eb23e806cfba805ac3057bc93a269d.dir
      size: 216960
      nfiles: 4
