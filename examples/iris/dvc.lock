schema: '2.0'
stages:
  prepare:
    cmd: python -m deckard.layers.prepare
    params:
      params.yaml:
        prepare.config:
          name: iris
          params:
            shuffle: true
            stratify: true
            random_state: 0
            test_size:
            train_size: 0.8
          data_file: data.pkl
          output_folder: .
    outs:
    - path: data.pkl
      md5: 4cb45af79f0ad08ff7dca71fdd07417a
      size: 4727
  train:
    cmd: python -m deckard.layers.sklearn_model --layer_name train
    deps:
    - path: prepare/data.pickle
      md5: 00709c0ce9102f9b40600ac0e451c800
      size: 4753
    params:
      params.yaml:
        control:
          model_type: sklearn
          data_file: data.pkl
          output_folder: control
          input_folder: .
          output_name: control_model.pickle
          config:
            name: sklearn.linear_model.LogisticRegression
            params:
              penalty: l2
    outs:
    - path: train/ground_truth.json
      md5: ebd226610027480795b3ad51a79f3e20
      size: 799
    - path: train/model_params.json
      md5: d590cf74eabc4aff20b4a0048725848f
      size: 155
    - path: train/predictions.json
      md5: cf78b1d66265e57751091d704e15766b
      size: 207
    - path: train/train_model.pickle
      md5: 32f9a7805777bbd6ac45547790864061
      size: 828
