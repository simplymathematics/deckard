schema: '2.0'
stages:
  prepare:
    cmd:
    - python ../../deckard/layers/prepare.py
    deps:
    - path: ../../deckard/base/data.py
      md5: 9aff056201873fe565f4cda55b434a08
      size: 11619
    - path: configs/prepare.yaml
      md5: a89d046645cddeb47942c9328da7e8dc
      size: 128
    - path: parsed/gps.txt
      md5: ea9d1bdb2019c5c23bc470fa2e5a7442
      size: 244920
    params:
      params.yaml:
        prepare:
          name: parsed/lat.csv
          params:
            shuffle: true
            stratify: None
            random_state: 0
            train_size: 0.8
            target: latitude
          data_file: data.pkl
          output_folder: .
    outs:
    - path: data.pkl
      md5: 3d178144652d069cb39870f31989aa3e
      size: 336302
  train:
    cmd: python ../../deckard/layers/sklearn_model.py --layer_name train
    deps:
    - path: ../../deckard/base/experiment.py
      md5: 6739dd158523247d8791666577304f3f
      size: 9117
    - path: ../../deckard/base/utils.py
      md5: a7ae2819c925d8fe136055959a6b31e2
      size: 3401
    - path: ../../deckard/layers/sklearn_model.py
      md5: dd371a17141685efed2d949baa0be853
      size: 2522
    - path: configs/model.yaml
      md5: 402fb4af722a41893f0834b8311a85c7
      size: 235
    - path: data.pkl
      md5: 3d178144652d069cb39870f31989aa3e
      size: 336302
    params:
      params.yaml:
        train:
          input_folder: .
          input_name: model.pickle
          output_folder: train
          output_name: model.pickle
          data_file: data.pkl
          layer_name: train
          config: configs/model.yaml
          classifier: false
          model_type: sklearn
          is_fitted: false
    outs:
    - path: train/
      md5: f16eeb43d7136088fb327ac7d1f44ad9.dir
      size: 1746353
      nfiles: 42
  preprocess:
    cmd: python ../../deckard/layers/preprocess.py  --layer_name preprocess --position
      0
    deps:
    - path: ../../deckard/layers/preprocess.py
      md5: e36efd2dcf31e16a266938fb79bb6526
      size: 3250
    - path: configs/preprocess.yaml
      md5: ac4ed79e4a6b628fac4308fdd3e24210
      size: 123
    - path: train/
      md5: f16eeb43d7136088fb327ac7d1f44ad9.dir
      size: 1746353
      nfiles: 42
    params:
      params.yaml:
        preprocess:
          input_folder: train
          output_folder: preprocess
          input_name: model.pickle
          output_name: model
          data_file: data.pkl
          layer_name: preprocess
          position: 0
          config: configs/preprocess.yaml
          classifier: false
          model_type: sklearn
          is_fitted: false
    outs:
    - path: preprocess/
      md5: 9d49f29ba58c2c552e646bde3e5d9e65.dir
      size: 10509798
      nfiles: 252
  featurize:
    cmd: python ../../deckard/layers/preprocess.py --layer_name featurize --position
      1
    deps:
    - path: ../../deckard/layers/preprocess.py
      md5: e36efd2dcf31e16a266938fb79bb6526
      size: 3250
    - path: configs/featurize.yaml
      md5: 005634bea96282aed20b465754b27016
      size: 111
    - path: preprocess/
      md5: 9d49f29ba58c2c552e646bde3e5d9e65.dir
      size: 10509798
      nfiles: 252
    params:
      params.yaml:
        featurize:
          input_folder: preprocess
          output_folder: featurize
          input_name: model
          output_name: model.pickle
          data_file: data.pkl
          layer_name: featurize
          position: 1
          config: configs/featurize.yaml
          classifier: false
          model_type: sklearn
          is_fitted: false
    outs:
    - path: featurize/
      md5: 90952601cecad8a04b32e21b377fa6fc.dir
      size: 382376016
      nfiles: 9072
  evaluate:
    cmd: python ../../deckard/layers/evaluate.py --layer_name evaluate
    deps:
    - path: featurize/
      md5: 90952601cecad8a04b32e21b377fa6fc.dir
      size: 382376016
      nfiles: 9072
    params:
      params.yaml:
        evaluate:
          input_folder: train
          ground_truth_file: ground_truth.json
          predictions_file: predictions.json
          layer_name: evaluate
          config: configs/evaluate.yaml
